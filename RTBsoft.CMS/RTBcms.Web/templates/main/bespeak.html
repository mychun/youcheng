<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>预约演示 - 深圳市友程电子科技有限公司</title>
    <meta name="keywords" content="{config.seokeyword}" />
    <meta name="description" content="{config.seodescription}" />
    <link rel="icon" type="image/png" href="<%templateskin%>/images/logo-16-16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="<%templateskin%>/images/logo-32-32.png" sizes="32x32">
    <link href="<%templateskin%>/css/style.css?v=1.2" rel="stylesheet" type="text/css" />
    <link type="text/css" rel="stylesheet" href="{config.webpath}css/validate.css" />
    <link type="text/css" rel="stylesheet" href="{config.webpath}scripts/artdialog/ui-dialog.css" />
    <script type="text/javascript" src="{config.webpath}scripts/jquery/jquery-1.11.2.min.js"></script>
</head>
<body  id="bespeak">
    <%template src="_header.html"%>

    <div class="main">
        <div class="top-banner">
            <img src="<%templateskin%>/images/p1.png">
            <span class="top-txt">
                <i>预约演示</i>
                <em>Appointment Presentation</em>
            </span>
        </div>
        <div class="bg2">
            <div class="content pt100 pb100">
                <div class="top-title">
                    <h3>填写预约演示</h3>
                </div>
                <form class="from-cont" id="feedback_form" name="feedback_form" url="http://service.ruantongbao.com/SystemService.ashx?method=SaveInterestedBuyers">
                    <input type="hidden" id="system" name="system" value="TMS" />
                    <p class="f-row">
                        <label class="label-name must-control">公司名称：</label>
                        <input class="f-control" id="company_name" name="company_name" type="text" datatype="*1-50" nullmsg="请输入公司名称！" errormsg="" sucmsg=" " />
                    </p>
                    <p class="f-row">
                        <label class="label-name must-control">姓名：</label>
                        <input id="name" name="name" class="f-control" type="text" datatype="*1-20" nullmsg="请输入姓名！" errormsg="" sucmsg=" " />
                    </p>
                    <p class="f-row">
                        <label class="label-name must-control">联系电话：</label>
                        <input id="phone" name="phone" class="f-control" type="text" datatype="*1-25" nullmsg="请输入联系电话！" errormsg="请输入正确的联系电话" sucmsg=" " />
                    </p>
                    <p class="f-row">
                        <label class="label-name must-control">所在城市：</label>
                        <input class="f-control" id="city" name="city" datatype="*1-50" errormsg=" " nullmsg="请输入所在城市！" sucmsg=" " type="text" />
                    </p>
                    <p class="f-row clearfix">
                        <label style="top:-4px;" class="label-name must-control">意向产品：</label>
                        <label class="checkbox"><input name="model" value="国际物流" type="checkbox">国际物流</label>
                        <label class="checkbox"><input name="model" value="海外仓储" type="checkbox">海外仓储</label>
                        <label class="checkbox"><input name="model" value="转运进出口" type="checkbox" datatype="*" nullmsg="至少选择一个意向产品！" sucmsg=" ">转运进出口</label>
                    </p>
                    <p class="f-row">
                        <label class="label-name must-control">系统预算：</label>
                        <select class="select-contrl" name="reserved_field1" id="systemBudget" datatype="*" nullmsg="请选择系统预算金额！" sucmsg=" ">
                            <option value="">请选择</option>
                            <option value="3-5万">3-5万</option>
                            <option value="5-10万">5-10万</option>
                            <option value="10+万">10+万</option>
                        </select>
                        <span class="hint-info">
                            <i>适合国际快递、邮政小包、专线为主的普通代理商</i>
                            <i>适合运营自主专线的跨境物流商</i>
                            <i>适合定制开发需求较多的大型跨境物流商</i>
                        </span>
                    </p>
                    <p class="f-row">
                        <label class="label-name must-control">验证码：</label>
                        <input class="f-control" id="txtCode" name="txtCode" type="text" placeholder="验证码" style="width:100px;" datatype="*" nullmsg="请输入验证码" sucmsg=" " />
                        <a id="verifyCode" href="javascript:;" onclick="ToggleCode(this, '/tools/verify_code.ashx');return false;"><img src="/tools/verify_code.ashx" width="80" height="30" style="vertical-align:middle;" /> 看不清楚？</a>
                    </p>

                    <p class="f-row f-bottom">
                        <input id="btnSubmit" name="btnSubmit" class="submit-btn" type="submit" value="提交预约" />
                    </p>
                </form>
                <input id="turl" type="hidden" value='<%linkurl("bespeak")%>' />
            </div>
        </div>
    </div>

    <%template src="_footer.html"%>

    
    <script type="text/javascript" src="{config.webpath}scripts/jquery/jquery.form.min.js"></script>
    <script type="text/javascript" src="{config.webpath}scripts/jquery/Validform_v5.3.2_min.js"></script>
    <script type="text/javascript" src="{config.webpath}scripts/artdialog/dialog-plus-min.js"></script>
    <script>
        //切换验证码
        function ToggleCode(obj, codeurl) {
            $(obj).children("img").eq(0).attr("src", codeurl + "?time=" + Math.random());
            return false;
        }

        /*表单AJAX提交封装(包含验证)
        ------------------------------------------------*/
        function AjaxInitForm(formObj, btnObj, isDialog, urlObj, callback) {
            var argNum = arguments.length; //参数个数
            $(formObj).Validform({
                tiptype: 3,
                callback: function (form) {
                    $(form).ajaxSubmit({
                        beforeSubmit: formRequest,
                        success: formResponse,
                        error: formError,
                        url: $(formObj).attr("url"),
                        type: "post",
                        dataType: "jsonp",
                        timeout: 60000,
                        jsonp: "callbackparam"
                    });
                    return false;
                }
            });

            //表单提交前
            function formRequest(formData, jqForm, options) {
                $(btnObj).prop("disabled", true);
                $(btnObj).val("提交中...");
            }

            //表单提交后
            function formResponse(data, textStatus) {
                if (data.status == 1) {
                    $(btnObj).val("提交成功");
                    //是否提示，默认不提示
                    if (isDialog == 1) {
                        var d = dialog({ content: "预约演示提交成功，我们尽快与您联系！" }).show();
                        setTimeout(function () {
                            d.close().remove();
                            if (argNum == 5) {
                                callback();
                            } else if (data.url) {
                                location.href = data.url;
                            } else if ($(urlObj).length > 0 && $(urlObj).val() != "") {
                                location.href = $(urlObj).val();
                            } else {
                                location.reload();
                            }
                        }, 2000);
                    } else {
                        if (argNum == 5) {
                            callback();
                        } else if (data.url) {
                            location.href = data.url;
                        } else if ($(urlObj)) {
                            location.href = $(urlObj).val();
                        } else {
                            location.reload();
                        }
                    }
                }
                 
            }
           
            //表单提交出错
            function formError(XMLHttpRequest, textStatus, errorThrown) {
                dialog({ title: '提示', content: '状态：' + textStatus + '；出错提示：' + errorThrown, okValue: '确定', ok: function () { } }).showModal();
                $(btnObj).prop("disabled", false);
                $(btnObj).val("再次提交");
            }
            return false;
            
        }

        $(document).ready(function (e) {
            //初始化发表评论表单
            AjaxInitForm('#feedback_form', '#btnSubmit', 1, '#turl');
            
            //选择系统预算显示提示
            $("#systemBudget").change(function () {
                var val = $(this).val();
                var hintInfo = $('.hint-info i');
                hintInfo.hide();
                if (val == "3-5万") {
                    hintInfo.eq(0).show();
                }
                if (val == "5-10万") {
                    hintInfo.eq(1).show();
                }
                if (val == "10+万") {
                    hintInfo.eq(2).show();
                }
            })
        });
    </script>
</body>
</html>
